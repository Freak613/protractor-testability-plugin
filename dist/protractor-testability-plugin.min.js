/*! protractor-testability-plugin - v0.0.0
 *  Release on: 2015-06-16
 *  Copyright (c) 2015 Alfonso Presa
 *  Licensed MIT */
!function(a,b){"function"==typeof define&&define.amd?define([],function(){return b()}):"object"==typeof exports?module.exports=b():b()}(this,function(){"use strict";var a=require("fs");return{name:"protractor-testability-plugin",onPageLoad:function(){var b=a.readFileSync("node_modules/testability.js/dist/testability.js").toString();browser.executeScript(b),browser.executeScript(function(){window.angular||(window.angular={resumeBootstrap:function(){},module:function(){return{config:function(){return this}}},element:function(){return{injector:function(){return{get:function(a){return"$browser"===a?{notifyWhenNoOutstandingRequests:function(a){a()}}:void 0}}}}}})})},waitForPromise:function(){return browser.executeAsyncScript("return testability.when.ready.apply(null,arguments)").then(function(a){if(a)throw"Error while waiting to sync with the page: "+JSON.stringify(a)})}}});